const AgronomyQuizData=[
    {
       
    }
];
const IrrigationsoQuizData=[
    {
        
    },
];
const soilsciencesoQuizData=[
    {
       
    },
];


const AgriImplementsQuizData = [   
    {
        question: "What is the first operation in the production of crops?",
        a: "Tillage",
        b: "Sowing",
        c: "Harvesting",
        d: "Irrigation",
        correct: "a"
        },
        {
        question: "What is rotary tillage?",
        a: "Operations employing rotary action to cut, break and mix the soil",
        b: "Ploughing with a rotating blade",
        c: "Planting with a rotating mechanism",
        d: "Irrigation using rotary sprinklers",
        correct: "a"
        },
        {
        question: "What is left in between two adjacent strips of land after finishing ploughing?",
        a: "Dead furrow",
        b: "Ridge",
        c: "Trench",
        d: "Slope",
        correct: "a"
        },
        {
        question: "What is the weight range of the puddler including its beam?",
        a: "20-30 kg",
        b: "30-40 kg",
        c: "40-50 kg",
        d: "50-60 kg",
        correct: "b"
        },
        {
        question: "What is the curved part of the plough which lifts and turns the furrow slice?",
        a: "Mould board",
        b: "Share",
        c: "Beam",
        d: "Land wheel",
        correct: "a"
        },
        {
        question: "What is the wheel of the plough which runs on the unploughed land?",
        a: "Land wheel",
        b: "Beam",
        c: "Mould board",
        d: "Furrow",
        correct: "a"
        },
        {
        question: "What is a unit draft?",
        a: "Draft per unit area of land",
        b: "Draft per unit cross-sectional area of the furrow",
        c: "Draft per unit volume of soil",
        d: "Draft per unit weight of soil",
        correct: "b"
        },
        {
        question: "What is the mass of soil cut, lifted, and thrown to one side called?",
        a: "Furrow slice",
        b: "Plough bottom",
        c: "Beam",
        d: "Mould board",
        correct: "a"
        },
        {
        question: "What is the purpose of a green manure tamper implement?",
        a: "To trample and press the green manure crop",
        b: "To cut the green manure crop",
        c: "To water the green manure crop",
        d: "To harvest the green manure crop",
        correct: "a"
        },
        {
        question: "What is the device called that is used to cut the furrow slice vertically from the land ahead of the plough bottom?",
        a: "Coulter",
        b: "Mould board",
        c: "Beam",
        d: "Land wheel",
        correct: "a"
        },
        {
        question: "What is the perpendicular distance between the point of share and the lower position of the beam of the plough called?",
        a: "Throat clearance",
        b: "Draft",
        c: "Beam distance",
        d: "Plough height",
        correct: "a"
        },
        {
        question: "Where is the offset disc harrow most useful?",
        a: "Orchards and gardens",
        b: "Large fields",
        c: "Paddy fields",
        d: "Desert areas",
        correct: "a"
        },
        {
        question: "What is the size of the concave discs in tractor-drawn disc harrows?",
        a: "35-40 cm diameter",
        b: "20-25 cm diameter",
        c: "45-50 cm diameter",
        d: "10-15 cm diameter",
        correct: "a"
        },
        {
        question: "What is used to separate and keep two adjacent discs in position in a disc harrow?",
        a: "Spool",
        b: "Beam",
        c: "Mould board",
        d: "Coulter",
        correct: "a"
        },
        {
        question: "What is a rotary cultivator?",
        a: "Cultivator with tines or blades mounted on a power-driven horizontal shaft",
        b: "Cultivator with rotating wheels",
        c: "Cultivator powered by wind energy",
        d: "Cultivator with a rotating seed dispenser",
        correct: "a"
        },
        {
        question: "What is the main purpose of puddling?",
        a: "To reduce leaching of water",
        b: "To increase water evaporation",
        c: "To improve soil aeration",
        d: "To control pests",
        correct: "a"
        },
        {
        question: "What type of mechanism do most fertilizer drills in the country use to drop fertilizer in the field?",
        a: "Auger feed type",
        b: "Sprayer type",
        c: "Manual type",
        d: "Conveyor belt type",
        correct: "a"
        },
        {
        question: "What is a transplanter fitted with an engine called?",
        a: "Self-propelled transplanter",
        b: "Manual transplanter",
        c: "Tractor-driven transplanter",
        d: "Walk-behind transplanter",
        correct: "a"
        },
        {
        question: "In which crops is the transplanting method adopted for planting seedlings?",
        a: "Paddy and vegetables",
        b: "Wheat and barley",
        c: "Corn and soybeans",
        d: "Cotton and sugarcane",
        correct: "a"
        },
        {
        question: "What is the term for the art of placing seeds in the soil to obtain good germination?",
        a: "Sowing",
        b: "Harvesting",
        c: "Transplanting",
        d: "Tillage",
        correct: "a"
        },
      // Add more HTML questions here
    ];
    
    const FarmPowerAndTractorSystemsQuizData =[
    {
        question: "Marginal farmers having land?",
        a: "less than 1 ha",
        b: "greater than 2 ha",
        c: "less than 5 ha",
        d: "greater than 10 ha",
        correct: "less than 1 ha"
    },
    {
        question: "Small farmers having land?",
        a: "1-7 ha",
        b: "2-4 ha",
        c: "1-2 ha",
        d: "1-5 ha",
        correct: "2-4 ha"
    },
    {
        question: "Medium farmers having land?",
        a: "2-4 ha",
        b: "4-10 ha",
        c: "1-5 ha",
        d: "greater than 10 ha",
        correct: "4-10 ha"
    },
    {
        question: "Large farmers having land?",
        a: "less than 1 ha",
        b: "greater than 2 ha",
        c: "greater than 10 ha",
        d: "5-10 ha",
        correct: "greater than 10 ha"
    },
    {
        question: "How much land can an average man develop?",
        a: "0.01 ha",
        b: "0.1 ha",
        c: "1 ha",
        d: "0.5 ha",
        correct: "0.1 ha"
    },
    {
        question: "How many crop cattle does India have?",
        a: "22.68",
        b: "20.68",
        c: "25.68",
        d: "30.68",
        correct: "22.68"
    },
    {
        question: "How much power is developed by an average pair of bullocks?",
        a: "1 hp",
        b: "2 hp",
        c: "0.5 hp",
        d: "0.1 hp",
        correct: "1 hp"
    },
    {
        question: "What is the average force a bullock can exert?",
        a: "1/5th of its body weight",
        b: "1/10th of its body weight",
        c: "1/3rd of its body weight",
        d: "1/8th of its body weight",
        correct: "1/10th of its body weight"
    },
    {
        question: "What is the efficiency of a diesel engine?",
        a: "32-38%",
        b: "25-32%",
        c: "20-25%",
        d: "38-40%",
        correct: "32-38%"
    },
    {
        question: "What is the efficiency of a petrol engine?",
        a: "32-38%",
        b: "25-32%",
        c: "20-25%",
        d: "38-40%",
        correct: "25-32%"
    },
    {
        question: "Where can wind mills be used for lifting water?",
        a: "where wind velocity is less than 32 kmph",
        b: "where wind velocity is more than 32 kmph",
        c: "in urban areas",
        d: "in coastal areas",
        correct: "where wind velocity is more than 32 kmph"
    },
    {
        question: "What is the average capacity of a wind mill?",
        a: "1 hp",
        b: "0.5 hp",
        c: "2 hp",
        d: "0.1 hp",
        correct: "0.5 hp"
    },
    {
        question: "How many wind mills are there in India?",
        a: "2000",
        b: "3000",
        c: "4000",
        d: "2540",
        correct: "2540"
    },
    {
        question: "Examples of renewable energy sources are?",
        a: "nuclear energy",
        b: "solar energy",
        c: "coal energy",
        d: "hydro energy",
        correct: "solar energy, wind, biomass, thermal energy"
    },
    {
        question: "How many watts is equal to 1 hp?",
        a: "500 watts",
        b: "746 watts",
        c: "1000 watts",
        d: "2000 watts",
        correct: "746 watts"
    }
];  
    WorkshopTechnologyQuizData=[
    {
        question: "What is the art and science of manufacturing items out of wood with the help of tools known as?",
        a: "Carpentry",
        b: "Blacksmithing",
        c: "Masonry",
        d: "Metalworking",
        correct: "a"
    },
    {
        question: "Which carpentry tool is used to mark and measure an angle of 45 degrees?",
        a: "Miter square",
        b: "Bevel square",
        c: "Try square",
        d: "Compass",
        correct: "a"
    },
    {
        question: "What are cross-cut saws also called?",
        a: "Hand saws",
        b: "Circular saws",
        c: "Jigsaws",
        d: "Miter saws",
        correct: "a"
    },
    {
        question: "______is used for measuring outside diameter of bars and the thickness of piece ?",
        a: "Outside Caliper",
        b: "Inside Caliper",
        c: "Divider Caliper",
        d: "None of the above",
        correct: "a"
    },
    {
        question: "How many teeth per 25 mm does a panel saw have?",
        a: "5-8 teeth",
        b: "10-12 teeth",
        c: "15-18 teeth",
        d: "20-22 teeth",
        correct: "b"
    },
    {
        question: "What is the blade width of a trying plane?",
        a: "40 mm",
        b: "50 mm",
        c: "60 mm",
        d: "70 mm",
        correct: "c"
    },
    {
        question: "What is a bradawl used for?",
        a: "Boring small holes in soft wood",
        b: "Cutting metal",
        c: "Measuring angles",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "What is a brace used for?",
        a: "Holding and turning a bit for boring holes",
        b: "Measuring angles",
        c: "Cutting wood",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "What is a centre bit used for?",
        a: "Boring shallow holes across the grains",
        b: "Measuring distances",
        c: "Cutting metal",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "Which hammer serves the dual purpose as a hammer and a pair of pincers?",
        a: "Claw hammer",
        b: "Sledgehammer",
        c: "Ball peen hammer",
        d: "Cross peen hammer",
        correct: "a"
    },
    {
        question: "What is a G-cramp used for?",
        a: "Holding smaller work",
        b: "Measuring angles",
        c: "Cutting metal",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "What operation is chiseling used for?",
        a: "Cutting small stock of wood to produce the desired shape",
        b: "Measuring distances",
        c: "Boring holes",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "What are disc sanders used for?",
        a: "Sanding curved surfaces by using an abrasive disc",
        b: "Polishing metal surfaces",
        c: "Cutting metal",
        d: "Measuring distances",
        correct: "a"
    },
    {
        question: "What is fitting in carpentry?",
        a: "Assembling the parts together and removing metals to secure the necessary fit",
        b: "Measuring angles",
        c: "Boring holes",
        d: "Smoothing surfaces",
        correct: "a"
    },
    {
        question: "What is a pin vice used for?",
        a: "Holding round material of small diameter such as wire and pins",
        b: "Cutting metal",
        c: "Measuring distances",
        d: "Boring holes",
        correct: "a"
    },
    {
        question: "What type of hammer is a cross peen hammer?",
        a: "Has a peen at right angles (across) to the axis of the shaft or eye",
        b: "Has a peen at a slight angle to the axis of the shaft or eye",
        c: "Has a round peen",
        d: "Has a flat peen",
        correct: "a"
    },
    {
        question: "What is the distance from the point to the heel without the tang called for a file?",
        a: "Size or length",
        b: "Width",
        c: "Thickness",
        d: "Depth",
        correct: "a"
    },
    {
        question: "What material are scrapers made of?",
        a: "Good quality forged steel or sometimes made from old worn-out files",
        b: "Aluminum",
        c: "Plastic",
        d: "Wood",
        correct: "a"
    },
    {
        question: "What are hand taps squared on the shank end to receive?",
        a: "Tap wrench",
        b: "Screwdriver",
        c: "Hammer",
        d: "File",
        correct: "a"
    },
    {
        question: "What is a thickness gauge also called?",
        a: "Feeler gauge",
        b: "Dial gauge",
        c: "Vernier caliper",
        d: "Micrometer",
        correct: "a"
    }
    ];
  
    const subjectSelect = document.getElementById('subject');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const startQuizBtn = document.getElementById('start-quiz');
    const quizContainer = document.getElementById('quiz');
    const initialDetails = document.getElementById('initial-details');
    const answerEls = document.querySelectorAll('.answer');
    const questionEl = document.getElementById('question');
    const a_text = document.getElementById('a_text');
    const b_text = document.getElementById('b_text');
    const c_text = document.getElementById('c_text');
    const d_text = document.getElementById('d_text');
    const nextBtn = document.getElementById('next');
    const prevBtn = document.getElementById('prev');
    const submitBtn = document.getElementById('submit');
    const reloadBtn = document.getElementById('reload');
    const scoreEle = document.getElementById('score');
    const showAnswersBtn = document.getElementById('show-answers');
    const resultEle = document.getElementById('result');
    const finalMessage = document.getElementById('final-message');
  
    let currentQtn = 0;
      let score = 0;
      let percentage = 0;
      let submitted = false;
      let selectedQuizData = [];
  
//
function changeQuizGroup() {
  const quizGroup = document.getElementById('quiz-group').value;
    const subjectSelect = document.getElementById('subject');
     //Clearingpreviousoptions 
     subjectSelect.innerHTML = '';

    //Adding options based on the selected quiz group
    if (quizGroup === 'ecet') {
        addOptionsToSubjectSelect(['Select subject','Agricultural_Implements','Farm_Power_Tractor_Systems','WorkShop_Technology']);
    } else if (quizGroup === 'ibps') {
        addOptionsToSubjectSelect(['Select subject','Agronomy', 'Seed Science']);
    }
}
function addOptionsToSubjectSelect(options) {
    const subjectSelect = document.getElementById('subject');
    options.forEach(option => {
        const optionElement = document.createElement('option');
        optionElement.value = option;
        optionElement.text = option;
        subjectSelect.appendChild(optionElement);
    });
}
// Add this line at the end of your JavaScript code
changeQuizGroup();


  // Function to start the quiz
    function startQuiz() {
      const selectedSubject = subjectSelect.value;
      const userName = nameInput.value.trim();
      const userEmail = emailInput.value.trim();
  
      if (userName === '' || userEmail === '') {
          alert('Please fill in your name and email.');
          return;
      }
      
      if (selectedSubject === 'Agronomy') {
        selectedQuizData = AgronomyQuizData;
    } else if (selectedSubject === 'soilScience') {
        selectedQuizData = soilsciencesoQuizData;
    }

     else if (selectedSubject === 'Agricultural_Implements') {
          selectedQuizData = AgriImplementsQuizData;
      } else if (selectedSubject === 'Farm_Power_Tractor_Systems') {
          selectedQuizData = FarmPowerAndTractorSystemsQuizData;
      } 
      else if (selectedSubject === 'WorkShop_Technology') {
        selectedQuizData = WorkshopTechnologyQuizData;
    }else {
          alert('Please select a valid subject.');
          return;
      }
  
      initialDetails.style.display = 'none';
      quizContainer.style.display = 'block';
  
      loadQuestion();
  }
  
  function loadQuestion() {
      const currentQtnData = selectedQuizData[currentQtn];
      questionEl.innerText = `Question ${currentQtn + 1}: ${currentQtnData.question}`;
      const options = document.querySelectorAll(`#quiz-container .options li`);
      //questionEl.innerText = currentQtnData.question;
      options.forEach(option => {
        const optionLabel = option.querySelector('.op_label');
        optionLabel.classList.remove('correct', 'wrong');
    });

      a_text.innerText = currentQtnData.a;
      b_text.innerText = currentQtnData.b;
      c_text.innerText = currentQtnData.c;
      d_text.innerText = currentQtnData.d;
      deselectAnswer();
  }
  
    
    // Function to get the selected answer
    function getSelectedAnswer() {
        let answer;
        answerEls.forEach(answerEl => {
            if (answerEl.checked) {
                answer = answerEl.id;
            }
        });
        return answer;
    }
    
    // Function to clear answer selection
    function deselectAnswer() {
        answerEls.forEach(answerEl => {
            answerEl.checked = false;
        });
    }
    
    // Function to load the next question
    function loadNextQuestion() {
        const answer = getSelectedAnswer();
        if (!submitted) {
            if (!answer) {
                alert('Please select an answer.');
                return;
            }
            if (answer === selectedQuizData[currentQtn].correct) {
                score++;
            }
        }
        deselectAnswer();
        currentQtn++;
        if (currentQtn < selectedQuizData.length) {
            loadQuestion();
            prevBtn.disabled = false;
            prevBtn.classList.remove('disabled');
        } else {
            showResult();
        }
    }    
    // Function to load the previous question
    function loadPreviousQuestion() {
        getSelectedAnswer();
        if (currentQtn > 0) {
            currentQtn--;
            if (currentQtn === 0) {
                prevBtn.disabled = true;
                prevBtn.classList.add('disabled');
            }
            loadQuestion();
        }
    }
    
    // Function to submit the quiz
    function submitQuiz() {
        if (getSelectedAnswer()) {
            submitted = true;
            showResult();
        } else {
            alert('Please select an answer.');
        }
    }
    
   
    function showResult() {
        quizContainer.style.display = 'none';
        resultEle.style.display = 'block';
        scoreEle.innerHTML = `${score}/${selectedQuizData.length} questions answered correctly`;
        calculateAndShowFinalMessage(); // Call the function to calculate and show the final message
        loadAnswers(); // Call the function to load the answers
    }
    
    // Function to calculate the percentage and show the final message
    function calculateAndShowFinalMessage() {
        percentage = (score / selectedQuizData.length) * 100;
        let message = '';
    
        if (percentage > 75) {
            message = `Congratulations on achieving ${percentage.toFixed(2)}%! You're on the right track. Keep exploring the topics that spark your curiosity, and you'll keep achieving amazing things! âœ¨`;
        } else if (percentage >= 50) {
            message = `Hey there! Your score of ${percentage.toFixed(2)}% is a solid start! Take another crack at the quiz and see if you can climb the leaderboard. Remember, every attempt helps you learn and grow.`;
        } else {
            message = `Everyone makes mistakes! Your score of ${percentage.toFixed(2)}% is a chance to learn and grow. Take another shot at the quiz, focus on understanding the concepts, and you'll see progress in no time!`;
        }
    
        finalMessage.innerHTML = `<div class="score-box">${message}</div>`;
    }
    function loadAnswers() {
        resultEle.style.display = 'block';
        scoreEle.innerHTML = `${score}/${selectedQuizData.length} questions answered correctly`;
        calculateAndShowFinalMessage(); // Calculate and show final message

        selectedQuizData.forEach((questionData, questionIndex) => {
    const correctAnswer = questionData.correct;
    const options = document.querySelectorAll(`#quiz-container .options li`);

    // Highlight correct answer
    options.forEach((option, index) => {
      const optionLabel = option.querySelector('.op_label');
      if (index === correctAnswer.charCodeAt(0) - 97) {
        optionLabel.classList.add('correct');
      }
    });

    // Optionally reveal user's selected answer (if any)
    const userAnswer = getSelectedAnswerForQuestion(questionIndex);
    if (userAnswer) {
      const userAnswerOption = document.getElementById(userAnswer);
      userAnswerOption.querySelector('.op_label').classList.add('user-selected');
    }
  });

    }

function getSelectedAnswerForQuestion(questionIndex) {
    const questionAnswerEls = document.querySelectorAll(`#quiz-container #question-${questionIndex} .answer`);
    let selectedAnswer = '';
    questionAnswerEls.forEach(answerEl => {
        if (answerEl.checked) {
            selectedAnswer = answerEl.id;
        }
    });
    return selectedAnswer;
}


    
    // Event listeners
    startQuizBtn.addEventListener('click', startQuiz);
    prevBtn.addEventListener('click', loadPreviousQuestion);
    nextBtn.addEventListener('click', loadNextQuestion);
    submitBtn.addEventListener('click', submitQuiz);
    reloadBtn.addEventListener('click', () => location.reload());
    showAnswersBtn.addEventListener('click', loadAnswers);
